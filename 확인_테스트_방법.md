# 단어 앱(toeic-words) — 먼저 할 일 & 확인·테스트 방법

---

## 1. 먼저 네가 할 일

### ① Supabase (이미 했다면 생략)

- **answer_logs에 quiz_type 추가**  
  - `monitor-app/supabase_answer_logs_quiz_type.sql` 내용을 Supabase 대시보드 → SQL Editor에서 실행.  
  - 이미 실행했으면 안 해도 됨.
- **기존 데이터를 output으로 통일**  
  - `monitor-app/supabase_quiz_type_grammar_to_output.sql` 실행해서  
    `quiz_type = 'grammar'` 인 행을 `'output'`으로 한 번에 변경.  
  - 이전에 grammar로 넣었던 적이 있으면 한 번만 실행.

### ② 단어 앱 config (로그 연동할 때만)

- **toeic-words/config.js** 를 연다.
- 아래 값을 채운다 (monitor-app이 쓰는 Supabase와 **같은 프로젝트**).
  - `SUPABASE_URL`: Supabase 프로젝트 URL (예: `https://xxxxx.supabase.co`)
  - `SUPABASE_ANON_KEY`: Supabase anon key (공개용 키)
  - `TEST_TITLE`: **노션 제목**(테스트 이름). 이 값이 answer_logs의 **tag**에 들어감 (예: `토익 시제부사`)

config를 비워 두어도 **카드·퀴즈는 그대로 동작**한다.  
다만 정답/오답을 모니터·answer_logs에 남기려면 위 값을 넣어야 한다.

### ③ (선택) 학생 정보

- 똑패스에서 링크로 넘길 때 `?student_id=xxx&student_name=yyy` 를 붙이면 그 값으로 로그에 저장된다.
- 로컬에서만 확인할 때는 안 넣어도 되고, 그때는 `student_id: 'guest'` 로 들어간다.

---

## 2. 확인·테스트 방법

### ① 로컬에서 단어 앱 띄우기

1. 터미널에서 **toeic-words 폴더**로 이동.
   ```bash
   cd "c:\Users\admin\OneDrive\바탕 화면\똑패스\toeic-words"
   ```
2. 로컬 서버 실행 (아래 중 하나).
   - **방법 A:** `npx serve .`  
     - (처음이면 패키지 설치 물음 나오면 y 입력)
   - **방법 B:** VS Code에서 **Live Server** 확장으로 `index.html` 열기
3. 브라우저에 주소가 뜬다 (예: `http://localhost:3000`). 그 주소로 접속.

### ② 카드 화면 확인

1. 상단에서 **카드** 탭이 선택된 상태로 시작한다.
2. **테마** 드롭다운: 전체 / 현재 / 과거 / 미래 / 현재완료 바꿔 보기 → 카드가 그에 맞게 바뀌는지 확인.
3. 카드를 **탭(클릭)** 하면 앞(키워드) ↔ 뒤(뜻·예문) 뒤집히는지 확인.
4. **이전 / 다음** 버튼으로 카드가 넘어가는지 확인.

### ③ 퀴즈 화면 확인

1. 상단에서 **퀴즈** 탭 클릭.
2. “이 단어의 뜻은?” + 단어 하나 + 보기 4개가 나오는지 확인.
3. 보기 하나 클릭 → 맞으면 초록, 틀리면 빨강으로 표시되는지 확인.
4. **다음** 버튼으로 다음 문제로 넘어가는지 확인.
5. 마지막 문제까지 풀면 “퀴즈 끝! n / m 맞음” 같은 메시지가 나오는지 확인.

### ④ 로그 연동 확인 (config 채워 둔 경우)

1. config.js에 Supabase URL·anon key·TEST_TITLE을 넣은 상태에서 퀴즈를 몇 문제 풀어 본다.
2. **Supabase 대시보드** → Table Editor → **answer_logs** 테이블 연다.
3. 방금 푼 시각으로 **새 행**이 생겼는지 확인.
   - `quiz_type` = `input`
   - `tag` = config에 넣은 TEST_TITLE (예: `토익 시제부사`)
   - `correct` = true / false
   - `student_id` = URL에 넣었으면 그 값, 없으면 `guest`

### ⑤ (선택) 모니터에서 보이는지 확인

- 모니터 앱(캡처/CCTV)에서 **answer_logs**를 조회하는 화면이 있다면,
- `quiz_type = 'input'` 이나 **tag = 테스트 이름**으로 필터해서 방금 푼 단어 퀴즈 기록이 보이는지 확인.

---

## 3. 한 줄 요약

| 순서 | 할 일 |
|------|--------|
| 1 | Supabase에 quiz_type 추가·마이그레이션 (이미 했으면 생략) |
| 2 | toeic-words/config.js 에 Supabase URL·키·TEST_TITLE 넣기 (로그 쓰려면) |
| 3 | `cd toeic-words` → `npx serve .` (또는 Live Server) → 브라우저에서 열기 |
| 4 | 카드 탭: 필터·앞/뒤 넘기기·이전/다음 동작 확인 |
| 5 | 퀴즈 탭: 4지선다·맞음/틀림·다음·끝 메시지 확인 |
| 6 | config 넣었다면 Supabase answer_logs에 input/tag 로 행 쌓이는지 확인 |

이 순서대로 하면 “먼저 할 일”과 “어떻게 확인·테스트하는지”까지 다 따라 할 수 있다.
