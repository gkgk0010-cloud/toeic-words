# toeic-words 배포 구조 한 번만 맞추기

혼동됐을 때(폴더로 올린 적 + 파일만 끌어와서 올린 적) **한 번만** 이렇게 맞추면 됩니다.

---

## 1. 로컬(지금 PC) 구조 확인

똑패스 폴더 안에 이렇게 있어야 합니다.

```
똑패스/
├── api/                    ← 루트에 있음 (노션 API용)
│   └── notion-words.js
├── toeic-words/            ← 폴더 통째로
│   ├── index.html
│   ├── connector.html
│   ├── app.js
│   ├── style.css
│   ├── config.js
│   ├── data/
│   │   └── words.json
│   ├── api/                ← 이건 그대로 두어도 됨 (루트 api가 우선 사용됨)
│   │   └── notion-words.js
│   └── vercel.json
├── gas_src/
├── monitor-app/
└── ...
```

- **toeic-words**는 반드시 **폴더**이고, 그 **안에** index.html, connector.html, app.js 등이 들어 있어야 함.
- **api**는 **저장소 루트**에 있어야 함 (Vercel이 `/api/notion-words` 로 씀).

---

## 2. GitHub에서 확인할 것

1. GitHub 저장소 열기 (toeic-words-b5vc에 연결된 그 저장소).
2. **루트**에 `toeic-words` **폴더**가 있는지 확인.
3. `toeic-words` 폴더를 열었을 때 **안에** index.html, connector.html, app.js, style.css, data 폴더 등이 있는지 확인.
4. **루트**에 `api` 폴더가 있고, 그 안에 `notion-words.js` 가 있는지 확인.

**만약 루트에 index.html, connector.html 만 덩그러니 있으면**  
→ 예전에 “파일만” 올린 흔적. 그 파일들은 GitHub에서 삭제하고, **toeic-words 폴더 안**에만 같은 파일들이 있게 맞추기.

---

## 3. 로컬에서 한 번에 반영하기

로컬이 위 구조라면:

1. **저장소 루트**에서 터미널 열기.
2. `git add .`
3. `git status` 로 `api/`, `toeic-words/` 등 필요한 게 다 들어가는지 확인.
4. `git commit -m "toeic-words 폴더 구조 + 루트 api 통일"`
5. `git push`

이후에는 **항상 toeic-words 폴더 통째로** 올리면 됨 (폴더 안 파일만 끌어와서 루트에 올리지 말 것).

---

## 4. Vercel

- **Root Directory**는 **비워 두기** (전체 저장소 배포).
- Push 하면 자동 배포됨.
- 배포 후 주소:
  - 테스트: `https://toeic-words-b5vc.vercel.app/toeic-words/?student_id=...`
  - 연결사: `https://toeic-words-b5vc.vercel.app/toeic-words/connector.html?...`
  - 노션 API: `https://toeic-words-b5vc.vercel.app/api/notion-words?...`

---

## 5. 똑패스(GAS)

- `WORDS_APP_URL` = `https://toeic-words-b5vc.vercel.app/toeic-words/` 인지 확인.
- 바꿨으면 `clasp push` 한 번.

이렇게 한 번만 맞춰 두면, 앞으로는 “이럴 땐 어떻게 하지?” 없이 **toeic-words 폴더만 올리면** 됩니다.
